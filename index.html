<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edward Lu Portfolio</title>
    <link rel="stylesheet" href="css/style.css"> <!-- Link to your CSS file -->
    <style>
        /* Additional styles for smooth scrolling */
        .section {
            height: 100vh; /* Full viewport height for each section */
            overflow: hidden; /* Hide overflow to prevent scrolling */
        }
    </style>
</head>
<body>
    <!-- Compass Navigation -->
    <div class="compass-container">
        <div class="center-logo">
            <img src="images/spin.gif" alt="My Logo">
        </div>
        <div class="option option-north">
            <a href="#section-art" data-file="art-portfolio.html">
                <img src="images/lake.jpg" alt="ART">
                <span>art</span>
            </a>
        </div>
        <div class="option option-south">
            <a href="#section-data" data-file="data-portfolio.html">
                <img src="images/shark.png" alt="DATA">
                <span>data</span>
            </a>
        </div>
        <div class="option option-east">
            <a href="#section-resume" data-file="resume.html">
                <img src="images/dumpling.png" alt="RESUME">
                <span>resume</span>
            </a>
        </div>
        <div class="option option-west">
            <a href="#section-about" data-file="contact.html">
                <img src="images/krab.png" alt="contact">
                <span>about</span>
            </a>
        </div>
    </div>

    <!-- Sections -->
    <div id="section-art" class="section"></div>
    <div id="section-data" class="section"></div>
    <div id="section-resume" class="section"></div>
    <div id="section-about" class="section"></div>

    <!-- Include JavaScript for loading content and smooth scrolling -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let isScrolling = false;
            let currentTargetId = null;
            let currentFile = null;

            function scrollToSection(targetElement, file) {
                if (isScrolling) {
                    // If already scrolling, stop and reset
                    document.querySelector(currentTargetId).style.transition = 'none';
                    window.scrollTo(0, 0);
                    isScrolling = false;
                    currentTargetId = null;
                    return;
                }

                // Start scrolling
                isScrolling = true;
                currentTargetId = targetElement.id;

                // Load content into the target section
                fetch(file)
                    .then(response => response.text())
                    .then(html => {
                        targetElement.innerHTML = html;
                        targetElement.style.transition = 'transform 0.6s ease-out';
                        targetElement.style.transform = 'translateY(0)';
                    })
                    .catch(err => console.warn('Error loading content:', err));

                // Scroll to the target section with a more drastic effect
                window.scrollTo({
                    top: targetElement.offsetTop,
                    behavior: 'smooth'
                });

                // Reset scrolling after animation
                setTimeout(() => {
                    isScrolling = false;
                    currentTargetId = null;
                }, 600);
            }

            document.querySelectorAll('.option a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    const file = this.getAttribute('data-file');

                    if (currentTargetId === `#${targetId}`) {
                        // If the same link is clicked again, undo scroll
                        scrollToSection(targetElement, file);
                    } else {
                        scrollToSection(targetElement, file);
                    }
                });
            });
        });
    </script>
</body>
</html>
