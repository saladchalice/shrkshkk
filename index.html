<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edward Lu Portfolio</title>
    <link rel="stylesheet" href="css/style.css"> <!-- Link to your CSS file -->
</head>
<body>
    <!-- Compass Navigation -->
    <div class="compass-container">
        <div class="center-logo">
            <img src="images/spin.gif" alt="My Logo">
        </div>
        <div class="option option-north">
            <a href="#section-art" data-file="art-portfolio.html" data-scroll="north">
                <img src="images/lake.jpg" alt="ART">
                <span>art</span>
            </a>
        </div>
        <div class="option option-south">
            <a href="#section-data" data-file="data-portfolio.html" data-scroll="south">
                <img src="images/shark.png" alt="DATA">
                <span>data</span>
            </a>
        </div>
        <div class="option option-east">
            <a href="#section-resume" data-file="resume.html" data-scroll="east">
                <img src="images/dumpling.png" alt="RESUME">
                <span>resume</span>
            </a>
        </div>
        <div class="option option-west">
            <a href="#section-about" data-file="contact.html" data-scroll="west">
                <img src="images/krab.png" alt="contact">
                <span>about</span>
            </a>
        </div>
    </div>

    <!-- Sections -->
    <div id="section-art" class="section"></div>
    <div id="section-data" class="section"></div>
    <div id="section-resume" class="section"></div>
    <div id="section-about" class="section"></div>

    <!-- Include JavaScript for loading content and smooth scrolling -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            let activeScroll = null;

            document.querySelectorAll('.option a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();

                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    const scrollDirection = this.getAttribute('data-scroll');

                    if (activeScroll === scrollDirection) {
                        // Scroll back to compass and reset state if the same section is clicked again
                        document.querySelector('.compass-container').scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        activeScroll = null;
                        return;
                    }

                    // Do nothing if another scroll is already active
                    if (activeScroll) return;

                    // Activate new scroll
                    if (targetElement) {
                        activeScroll = scrollDirection;

                        // Load content into the target section
                        const file = this.getAttribute('data-file');
                        fetch(file)
                            .then(response => response.text())
                            .then(html => {
                                targetElement.innerHTML = html;
                                targetElement.scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'start'
                                });
                            })
                            .catch(err => console.warn('Error loading content:', err));
                    }
                });
            });
        });
    </script>
</body>
</html>
